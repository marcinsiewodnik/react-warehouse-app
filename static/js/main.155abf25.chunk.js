(this["webpackJsonpwarehouse-app"]=this["webpackJsonpwarehouse-app"]||[]).push([[0],{21:function(e,t,a){e.exports=a(33)},26:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),l=a.n(r),i=(a(26),a(6)),u=a(7),o=a(9),s=a(8),d=a(11),m=function(){return c.a.createElement("div",null,c.a.createElement("p",null,"Warehouse app"))},p=[{name:"Description",path:"/",exact:!0},{name:"product list (view mode)",path:"/product-list-view",exact:!1},{name:"transaction list (view mode)",path:"/transaction-list-view",exact:!1},{name:"add new product (change mode)",path:"/add-new-product",exact:!1},{name:"sell product (change mode)",path:"/sell-product-list",exact:!1},{name:"product list (change mode)",path:"/product-list",exact:!1}],h=function(){var e=p.map((function(e){return c.a.createElement("li",{key:e.name},c.a.createElement(d.b,{to:e.path,exact:!!e.exact},e.name))}));return c.a.createElement("nav",{className:"main"},c.a.createElement("ul",null,e))},E=a(1),y=function(){return c.a.createElement("div",null,c.a.createElement("h2",null,"Description"),c.a.createElement("div",{className:"description"},c.a.createElement("p",null,"Functionality: "),c.a.createElement("p",null,"On the product list (view mode) tab you can see all the products in the system. "),c.a.createElement("p",null,"On the transaction list(view mode) tab you can see all the transactions that took place. "),c.a.createElement("p",null,"On the add new product (change mode) tab you can add a new product to the system."),c.a.createElement("p",null,"On the sell product (change mode) tab you can sell a given product. A sell transaction will be generated."),c.a.createElement("p",null,"On the product list (change mode) tab you can modify existing products. Especially you can increase the quantity in stock. Then an add transaction will be generated.")))},g=function(e){var t=e.product,a=t.id,n=t.name,r=t.category,l=t.unitPrice,i=t.quantityInStock;return c.a.createElement("div",{className:"product-view"},c.a.createElement("p",null,c.a.createElement("span",null,"Id: "),c.a.createElement("span",null,a)),c.a.createElement("p",null,c.a.createElement("span",null,"Name: "),c.a.createElement("span",null,n)),c.a.createElement("p",null,c.a.createElement("span",null,"Category: "),c.a.createElement("span",null,r)),c.a.createElement("p",null,c.a.createElement("span",null,"Price: "),c.a.createElement("span",null,l)),c.a.createElement("p",null,c.a.createElement("span",null,"Quantity: "),c.a.createElement("span",null,i)))},v=function(e){var t=e.products;return t=t.map((function(e){return c.a.createElement(g,{key:e.id,product:e})})),c.a.createElement("div",null,c.a.createElement("h2",null,"Products"),c.a.createElement("div",null,t))},f=function(e){var t=e.transaction,a=t.id,n=t.type,r=t.productId,l=t.productName,i=t.productCategory,u=t.productUnitPrice,o=t.quantity;return c.a.createElement("div",{className:"transaction-view"},c.a.createElement("p",null,c.a.createElement("span",null,"Id: "),c.a.createElement("span",null,a)),c.a.createElement("p",null,c.a.createElement("span",null,"Type: "),c.a.createElement("span",null,n)),c.a.createElement("p",null,c.a.createElement("span",null,"Product id: "),c.a.createElement("span",null,r)),c.a.createElement("p",null,c.a.createElement("span",null,"Product name: "),c.a.createElement("span",null,l)),c.a.createElement("p",null,c.a.createElement("span",null,"Product category: "),c.a.createElement("span",null,i)),c.a.createElement("p",null,c.a.createElement("span",null,"Product unit price: "),c.a.createElement("span",null,u)),c.a.createElement("p",null,c.a.createElement("span",null,"Quantity: "),c.a.createElement("span",null,o)))},P=function(e){var t=e.transactions.map((function(e){return c.a.createElement(f,{key:e.id,transaction:e})}));return c.a.createElement("div",null,c.a.createElement("h2",null,"Transactions"),c.a.createElement("div",null,t))},N=a(13),S=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={name:"",category:"fruits",unitPrice:0,changeNameDetected:!1,validation:{incorrectName:!0}},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(N.a)({},a,n)),"name"===a&&(n.trim().length<5?e.setState((function(e){return{validation:{incorrectName:!0}}})):e.setState((function(){return{validation:{incorrectName:!1}}})),e.setState((function(){return{changeNameDetected:!0}})))},e.handleIncreasePrice=function(){e.setState({unitPrice:e.state.unitPrice+1})},e.handleDecreasePrice=function(){e.setState({unitPrice:e.state.unitPrice-1})},e.handleSubmit=function(t){var a=e.state,n=a.name,c=a.category,r=a.unitPrice;(0,e.props.addNewProduct)(n,c,r),e.setState((function(e){return{name:"",category:"fruits",unitPrice:0,changeNameDetected:!1,validation:{incorrectName:!1}}}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.unitPrice,a=e.category,n=e.validation,r=e.changeNameDetected,l=n.incorrectName;return c.a.createElement("div",{className:"add-new-product"},c.a.createElement("h2",null,"Add new product"),c.a.createElement("div",{className:"form"},c.a.createElement("p",null,c.a.createElement("label",{htmlFor:"name"},"Name: "),c.a.createElement("input",{id:"name",name:"name",type:"text",value:this.state.name,onChange:this.handleChange})),this.state.validation.incorrectName&&r&&c.a.createElement("p",{className:"p-error"},c.a.createElement("span",null),c.a.createElement("span",null,"Name has to be at least 5 characters long.")),c.a.createElement("p",null,c.a.createElement("label",{htmlFor:"category"},"Category"),c.a.createElement("select",{id:"category",name:"category",value:a,onChange:this.handleChange},c.a.createElement("option",{value:"fruits"},"fruits"),c.a.createElement("option",{value:"sweets"},"sweets"),c.a.createElement("option",{value:"drinks"},"drinks"),c.a.createElement("option",{value:"dairy"},"dairy"),c.a.createElement("option",{value:"other"},"other"))),c.a.createElement("p",null,c.a.createElement("label",{htmlFor:""},"Price"),c.a.createElement("p",{className:"change-panel"},c.a.createElement("button",{className:"decrease",disabled:0===t,onClick:this.handleDecreasePrice},"-"),c.a.createElement("span",{className:"span-value",style:t<0?{opacity:.3}:{}},t),c.a.createElement("button",{className:"increase",onClick:this.handleIncreasePrice},"+"))),c.a.createElement("p",null,c.a.createElement("button",{className:"btn-add-product",disabled:l,onClick:this.handleSubmit,type:"submit"},"Add product"))))}}]),a}(c.a.Component),b=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).handleSell=function(e){var t=n.props.sell,a=n.state,c=a.quantityToSell,r=a.id,l=a.name,i=a.category,u=a.unitPrice;t(c,new Date,r,l,i,u),n.setState((function(e){return{quantityToSell:0,quantityInStock:e.quantityInStock-c}}))},n.handleAddtoSell=function(){n.setState((function(e){return{quantityToSell:e.quantityToSell+1,changeDetected:!0}}))},n.handleRemoveFromSell=function(){n.setState((function(e){return{quantityToSell:e.quantityToSell-1,changeDetected:!0}}))};var c=e.product;return n.state={id:c.id,name:c.name,category:c.category,quantityInStock:c.quantityInStock,unitPrice:c.unitPrice,quantityToSell:0,changeDetected:!1},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.product,t=e.id,a=e.name,n=e.category,r=e.unitPrice,l=this.state,i=l.quantityToSell,u=l.quantityInStock,o=l.changeDetected;return c.a.createElement("div",{className:"product-sell"},c.a.createElement("p",null,c.a.createElement("span",null,"Id: "),c.a.createElement("span",null,t)),c.a.createElement("p",null,c.a.createElement("span",null,"name: "),c.a.createElement("span",null,a)),c.a.createElement("p",null,c.a.createElement("span",null,"Category: "),c.a.createElement("span",null,n)),c.a.createElement("p",null,c.a.createElement("span",null,"Unit Price: "),c.a.createElement("span",null,r)),c.a.createElement("p",null,c.a.createElement("span",null,"Quantity in Stock: "),c.a.createElement("span",null,u)),c.a.createElement("p",null,c.a.createElement("label",{htmlFor:""},"Quantity "),c.a.createElement("button",{className:"decrease",disabled:0===i,onClick:this.handleRemoveFromSell},"-"),c.a.createElement("span",{className:"span-value",style:0===i?{opacity:.3}:{}},i),c.a.createElement("button",{className:"increase",disabled:i===u,onClick:this.handleAddtoSell},"+")),c.a.createElement("p",null,c.a.createElement("button",{className:"btn-sell",disabled:!o||0===i,onClick:this.handleSell},"Sell product")))}}]),a}(c.a.Component),k=function(e){var t=e.products,a=e.sell;return t=t.map((function(e){return c.a.createElement(b,{key:e.id,product:e,sell:a})})),c.a.createElement("div",{className:"products"},c.a.createElement("h2",null,"Sell product"),t)},I=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target.name,a=e.target.value;n.setState((function(e){return Object(N.a)({},t,a)})),"name"===t?(n.setState((function(e){return e.name===e.initialName?{changeNameDetected:!1}:{changeNameDetected:!0}})),a.trim().length<5?n.setState((function(e){return{validation:{incorrectName:!0}}})):n.setState((function(e){return{validation:{incorrectName:!1}}}))):"category"===t&&n.setState((function(e){return e.category===e.initialCategory?{changeCategoryDetected:!1}:{changeCategoryDetected:!0}}))},n.handleClick=function(e){var t=n.state,a=t.id,c=t.name,r=t.category,l=t.unitPrice,i=n.props,u=i.changeProduct,o=i.add;if(u(a,c,r,l),n.state.changeQuantityDetected){var s=n.state.quantityInStock-n.state.initialQuantity;console.log(s,a,c,r,l),o(s,new Date,a,c,r,l)}n.setState((function(e){return{changeNameDetected:!1,changeCategoryDetected:!1,changePriceDetected:!1,changeQuantityDetected:!1}})),n.setState((function(e){return{validation:{incorrectName:!1}}}))},n.handleRemoveProduct=function(){n.setState((function(e){return{quantityInStock:e.quantityInStock-1}})),n.setState((function(e){return{changeQuantityDetected:e.quantityInStock!==e.initialQuantity}}))},n.handleAddProduct=function(){n.setState((function(e){return{quantityInStock:e.quantityInStock+1}})),n.setState((function(e){return{changeQuantityDetected:e.quantityInStock!==e.initialQuantity}}))},n.handleIncreasePrice=function(e){n.setState((function(e){return{unitPrice:e.unitPrice+1}})),n.setState((function(e){return{changePriceDetected:e.unitPrice!==e.initialPrice}}))},n.handleDecreasePrice=function(){n.setState((function(e){return{unitPrice:e.unitPrice-1}})),n.setState((function(e){return{changePriceDetected:e.unitPrice!==e.initialPrice}}))};var c=e.product;return n.state={id:c.id,name:c.name,category:c.category,quantityInStock:c.quantityInStock,unitPrice:c.unitPrice,initialName:c.name,initialCategory:c.category,initialPrice:c.unitPrice,initialQuantity:c.quantityInStock,changeNameDetected:!1,changeCategoryDetected:!1,changePriceDetected:!1,changeQuantityDetected:!1,validation:{incorrectName:!1}},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.id,a=e.name,n=e.category,r=e.quantityInStock,l=e.initialQuantity,i=e.unitPrice,u=e.validation.incorrectName,o=this.state,s=o.changeNameDetected,d=o.changeCategoryDetected,m=o.changePriceDetected,p=o.changeQuantityDetected,h=s||d||m||p;return c.a.createElement("div",{className:"product"},c.a.createElement("p",null," ",c.a.createElement("span",null,"Id: ")," ",c.a.createElement("span",null,t),"  "),c.a.createElement("p",null,c.a.createElement("label",{htmlFor:""},"Name "),c.a.createElement("input",{type:"text",name:"name",value:a,onChange:this.handleChange})),this.state.validation.incorrectName&&c.a.createElement("p",null,c.a.createElement("span",null,"Name has to be at least 5 characters long.")),c.a.createElement("p",null,c.a.createElement("label",{htmlFor:""},"Category "),c.a.createElement("select",{type:"checkbox",name:"category",value:n,onChange:this.handleChange},c.a.createElement("option",{value:"fruits"},"fruits"),c.a.createElement("option",{value:"sweets"},"sweets"),c.a.createElement("option",{value:"drinks"},"drinks"),c.a.createElement("option",{value:"dairy"},"dairy"),c.a.createElement("option",{value:"other"},"other"))),c.a.createElement("p",null,c.a.createElement("label",{htmlFor:""},"Price "),c.a.createElement("button",{className:"decrease",disabled:0===i,onClick:this.handleDecreasePrice},"-"),c.a.createElement("span",{className:"span-value",style:i<0?{opacity:.3}:{}},i),c.a.createElement("button",{className:"decrease",onClick:this.handleIncreasePrice},"+")),c.a.createElement("p",null,c.a.createElement("label",{htmlFor:""},"Quantity "),c.a.createElement("button",{className:"decrease",disabled:r===l,onClick:this.handleRemoveProduct},"-"),c.a.createElement("span",{className:"span-value",style:r<=l?{opacity:.3}:{}},r),c.a.createElement("button",{className:"increase",onClick:this.handleAddProduct},"+")),c.a.createElement("p",{className:"p-button"},c.a.createElement("button",{className:"btn-save",disabled:!h||u,onClick:this.handleClick},"Save changes")))}}]),a}(c.a.Component),C=function(e){var t=e.products,a=e.changeProduct,n=e.add;return t=t.map((function(e){return c.a.createElement(I,{key:e.id,product:e,changeProduct:a,add:n})})),c.a.createElement("div",null,c.a.createElement("h2",null,"Products"),c.a.createElement("div",null,t))},w=function(e){var t=e.products,a=e.transactions,n=e.addNewProduct,r=e.add,l=e.sell,i=e.changeProduct;return c.a.createElement("div",{className:"page"},c.a.createElement(E.c,null,c.a.createElement(E.a,{path:"/",exact:!0,component:y}),c.a.createElement(E.a,{path:"/product-list-view",render:function(e){return c.a.createElement(v,Object.assign({},e,{products:t}))}}),c.a.createElement(E.a,{path:"/transaction-list-view",render:function(e){return c.a.createElement(P,Object.assign({},e,{transactions:a}))}}),c.a.createElement(E.a,{path:"/add-new-product",render:function(e){return c.a.createElement(S,Object.assign({},e,{products:t,addNewProduct:n}))}}),c.a.createElement(E.a,{path:"/sell-product-list",render:function(e){return c.a.createElement(k,Object.assign({},e,{products:t,sell:l}))}}),c.a.createElement(E.a,{path:"/product-list",render:function(e){return c.a.createElement(C,Object.assign({},e,{products:t,changeProduct:i,add:r}))}})))},q=function(){return c.a.createElement("div",null,c.a.createElement("p",null,"Marcin Siewodnik"))},D=(a(32),function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={products:[],transactions:[]},e.id={nextProductId:0,nextTransactionId:0},e.generateNextProductId=function(){return e.id.nextProductId++},e.generateNextTransactionId=function(){return e.id.nextTransactionId++},e.fetchProducts=function(){return[{id:e.generateNextProductId(),name:"orange juice",category:"drinks",unitPrice:4,quantityInStock:5},{id:e.generateNextProductId(),name:"cookie",category:"sweets",unitPrice:2,quantityInStock:5},{id:e.generateNextProductId(),name:"apple",category:"fruits",unitPrice:3,quantityInStock:5}]},e.fetchTransactions=function(){return[{id:e.generateNextTransactionId(),type:"add",productId:0,productName:"orange juice",productCategory:"drinks",productUnitPrice:4,quantity:5},{id:e.generateNextTransactionId(),type:"add",productId:1,productName:"cookie",productCategory:"sweet",productUnitPrice:2,quantity:5},{id:e.generateNextTransactionId(),type:"add",productId:1,productName:"apple",productCategory:"fruits",productUnitPrice:3,quantity:5}]},e.addNewProduct=function(t,a,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.generateNextProductId(),r={id:c,name:t,category:a,unitPrice:n,quantityInStock:0};e.setState((function(e){return{products:e.products.concat(r)}}))},e.add=function(t,a,n,c,r,l){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.generateNextTransactionId(),u={id:i,type:"add",quantity:t,date:a,productId:n,productName:c,productCategory:r,productUnitPrice:l};e.setState((function(e){return{products:e.products.map((function(e){var a={id:e.id,name:e.name,category:e.category,unitPrice:e.unitPrice,quantityInStock:e.quantityInStock};return e.id===n&&(a.quantityInStock+=t),a})),transactions:e.transactions.concat(u)}}))},e.sell=function(t,a,n,c,r,l){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.generateNextTransactionId(),u={id:i,type:"sell",quantity:t,date:a,productId:n,productName:c,productCategory:r,productUnitPrice:l};e.setState((function(e){return{products:e.products.map((function(e){return e.id===n&&(e.quantityInStock-=t),e})),transactions:e.transactions.concat(u)}}))},e.changeProduct=function(t,a,n,c){e.setState((function(e){return{products:e.products.map((function(e){return e.id===t&&(e.name=a,e.category=n,e.unitPrice=c),e}))}}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.fetchProducts(),t=this.fetchTransactions();this.setState({products:e,transactions:t})}},{key:"render",value:function(){return c.a.createElement(d.a,{basename:"/react-warehouse-app"},c.a.createElement("div",{className:"app"},c.a.createElement("header",null,c.a.createElement(m,null)),c.a.createElement("main",null,c.a.createElement("aside",null,c.a.createElement(h,null)),c.a.createElement("section",{className:"page"},c.a.createElement(w,{products:this.state.products,transactions:this.state.transactions,addNewProduct:this.addNewProduct,add:this.add,sell:this.sell,changeProduct:this.changeProduct}))),c.a.createElement("footer",null,c.a.createElement(q,null))))}}]),a}(c.a.Component));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(D,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.155abf25.chunk.js.map